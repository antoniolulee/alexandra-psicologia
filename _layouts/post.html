---
---
<!DOCTYPE html>
<html lang="{{ site.lang | default: 'es' }}" class="scroll-smooth" x-data="{ 
      darkMode: localStorage.getItem('darkMode') === 'true' || 
      (!('darkMode' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches) 
    }" :class="{ 'dark': darkMode }" x-init="$watch('darkMode', val => localStorage.setItem('darkMode', val))">
{% include head.html %}

<body
  class="bg-secondary text-text font-body antialiased transition-colors duration-300 dark:bg-dark-secondary dark:text-dark-text">
  {% include header.html %}

  <main>
    <!-- Breadcrumb Navigation -->
    <div
      class="bg-secondary-alt dark:bg-dark-secondary-alt border-b border-border dark:border-dark-border transition-colors duration-300">
      <div class="max-w-7xl mx-auto px-6 py-4">
        <nav class="flex items-center gap-2 text-sm text-text-muted dark:text-dark-text-muted">
          <a href="/" class="hover:text-primary dark:hover:text-dark-primary transition-colors">Inicio</a>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
          <a href="/blog/" class="hover:text-primary dark:hover:text-dark-primary transition-colors">Blog</a>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
          <span class="text-text dark:text-dark-text">{{ page.title | truncatewords: 5 }}</span>
        </nav>
      </div>
    </div>

    <!-- Article Header -->
    <article class="py-12 lg:py-20">
      <div class="max-w-3xl mx-auto px-6">

        <!-- Category & Reading Time -->
        <div class="flex items-center gap-4 text-sm mb-6">
          {% if page.categories.first %}
          <span class="uppercase tracking-wider text-primary dark:text-dark-primary font-medium">
            {{ page.categories.first }}
          </span>
          <span class="text-text-muted dark:text-dark-text-muted">·</span>
          {% endif %}
          {% if page.reading_time %}
          <span class="text-text-muted dark:text-dark-text-muted">{{ page.reading_time }} de lectura</span>
          {% endif %}
        </div>

        <!-- Title -->
        <h1
          class="font-heading text-3xl md:text-4xl lg:text-5xl text-text dark:text-dark-text leading-heading tracking-heading mb-8">
          {{ page.title }}
        </h1>

        <!-- Author & Date -->
        <div class="flex items-center gap-4 pb-8 border-b border-border dark:border-dark-border">
          <div class="w-12 h-12 rounded-full bg-primary/10 dark:bg-dark-primary/10 flex items-center justify-center">
            <span class="text-primary dark:text-dark-primary font-heading text-lg">AB</span>
          </div>
          <div>
            <p class="font-medium text-text dark:text-dark-text">{{ page.author | default: site.data.site.identity.name
              }}</p>
            <p class="text-sm text-text-muted dark:text-dark-text-muted">
              {{ page.date | date: "%d de %B, %Y" }}
            </p>
          </div>
        </div>

        <!-- Featured Image -->
        {% if page.image %}
        <div class="my-10 aspect-[16/9] rounded-lg overflow-hidden bg-secondary-alt dark:bg-dark-secondary-alt">
          <img src="{{ page.image }}" alt="{{ page.title }}" class="w-full h-full object-cover">
        </div>
        {% endif %}

        <!-- Content -->
        <div class="prose prose-lg dark:prose-invert max-w-none
          prose-headings:font-heading prose-headings:text-text dark:prose-headings:text-dark-text
          prose-h2:text-2xl prose-h2:mt-12 prose-h2:mb-6
          prose-h3:text-xl prose-h3:mt-8 prose-h3:mb-4
          prose-p:text-text-muted dark:prose-p:text-dark-text-muted prose-p:leading-relaxed
          prose-a:text-primary dark:prose-a:text-dark-primary prose-a:no-underline hover:prose-a:underline
          prose-strong:text-text dark:prose-strong:text-dark-text
          prose-blockquote:border-l-primary dark:prose-blockquote:border-l-dark-primary
          prose-blockquote:bg-secondary-alt dark:prose-blockquote:bg-dark-secondary-alt
          prose-blockquote:py-4 prose-blockquote:px-6 prose-blockquote:rounded-r-lg
          prose-blockquote:not-italic
          prose-ul:text-text-muted dark:prose-ul:text-dark-text-muted
          prose-ol:text-text-muted dark:prose-ol:text-dark-text-muted
          prose-li:marker:text-primary dark:prose-li:marker:text-dark-primary">
          {{ content }}
        </div>

        <!-- Author Bio Box -->
        <div
          class="mt-16 p-8 bg-secondary-alt dark:bg-dark-secondary-alt rounded-xl border border-border dark:border-dark-border">
          <div class="flex flex-col sm:flex-row items-start gap-6">
            <div
              class="w-20 h-20 rounded-full bg-primary/10 dark:bg-dark-primary/10 flex-shrink-0 flex items-center justify-center">
              <span class="text-primary dark:text-dark-primary font-heading text-2xl">AB</span>
            </div>
            <div>
              <p class="font-heading text-xl text-text dark:text-dark-text mb-2">{{ site.data.site.identity.name }}</p>
              <p class="text-sm text-text-muted dark:text-dark-text-muted mb-4">{{ site.data.site.identity.credentials
                }}</p>
              <p class="text-text-muted dark:text-dark-text-muted leading-relaxed">
                {{ site.data.site.about.bio_intro }}
              </p>
            </div>
          </div>
        </div>

        <!-- CTA Section -->
        <div class="mt-12 text-center p-8 bg-primary/5 dark:bg-dark-primary/5 rounded-xl">
          <h3 class="font-heading text-2xl text-text dark:text-dark-text mb-4">
            ¿Necesitas apoyo profesional?
          </h3>
          <p class="text-text-muted dark:text-dark-text-muted mb-6 max-w-lg mx-auto">
            Si te has sentido identificada con lo que has leído, quizás sea el momento de dar el primer paso hacia tu
            bienestar.
          </p>
          <a href="https://wa.me/{{ site.data.seo.schema.telephone | remove: '+' }}?text={{ site.data.site.contact.whatsapp_msg | url_encode }}"
            target="_blank" rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-8 py-4 bg-primary dark:bg-dark-primary text-white text-sm tracking-wide uppercase rounded-md hover:bg-primary-hover dark:hover:bg-dark-primary-hover transition-all duration-300 shadow-sm hover:shadow-md">
            <span>Solicita una valoración gratuita</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
            </svg>
          </a>
        </div>

      </div>
    </article>

    <!-- Related Posts -->
    {% assign related_posts = site.posts | where_exp: "post", "post.url != page.url" | where_exp: "post",
    "post.categories contains page.categories.first" | limit: 3 %}
    {% if related_posts.size > 0 %}
    <section
      class="py-16 bg-secondary-alt dark:bg-dark-secondary-alt border-t border-border dark:border-dark-border transition-colors duration-300">
      <div class="max-w-7xl mx-auto px-6">
        <h2 class="font-heading text-2xl md:text-3xl text-text dark:text-dark-text mb-8">
          Artículos relacionados
        </h2>

        <div class="grid md:grid-cols-3 gap-8">
          {% for post in related_posts %}
          <article
            class="group bg-white dark:bg-dark-secondary rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 border border-border dark:border-dark-border">
            <!-- Image Placeholder -->
            <div class="aspect-[16/10] overflow-hidden bg-secondary-alt dark:bg-dark-secondary-alt">
              {% if post.image %}
              <img src="{{ post.image }}" alt="{{ post.title }}"
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
              {% else %}
              <div class="w-full h-full flex items-center justify-center text-text-muted dark:text-dark-text-muted">
                <svg class="w-12 h-12 opacity-30" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              </div>
              {% endif %}
            </div>

            <div class="p-6">
              <div class="flex items-center gap-4 text-xs text-text-muted dark:text-dark-text-muted mb-3">
                <span class="uppercase tracking-wider">{{ post.categories.first }}</span>
                <span>·</span>
                <span>{{ post.reading_time }}</span>
              </div>

              <h3
                class="font-heading text-lg text-text dark:text-dark-text mb-3 group-hover:text-primary dark:group-hover:text-dark-primary transition-colors duration-300">
                <a href="{{ post.url }}">{{ post.title }}</a>
              </h3>

              <p class="text-text-muted dark:text-dark-text-muted text-sm leading-relaxed line-clamp-2">
                {{ post.excerpt | strip_html | truncatewords: 20 }}
              </p>
            </div>
          </article>
          {% endfor %}
        </div>
      </div>
    </section>
    {% endif %}

  </main>

  {% include footer.html %}
  {% include cta.html %}
  {% include cookie-consent.html %}

  <!-- Alpine.js -->
  <script defer src="/assets/js/alpine.min.js"></script>
</body>

</html>